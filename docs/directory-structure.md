# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆæ¡ˆ

## æ¨å¥¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
chatbot/
â”œâ”€â”€ docs/                          # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ requirements.md            # è¦ä»¶å®šç¾©æ›¸
â”‚   â”œâ”€â”€ architecture.md            # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ development-plan.md        # é–‹ç™ºè¨ˆç”»æ›¸
â”‚   â”œâ”€â”€ api-spec.md               # APIä»•æ§˜æ›¸ï¼ˆä»Šå¾Œè¿½åŠ ï¼‰
â”‚   â””â”€â”€ deployment.md             # ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †ï¼ˆä»Šå¾Œè¿½åŠ ï¼‰
â”‚
â”œâ”€â”€ scripts/                       # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ sync-data.ts              # ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆâ†’DBåŒæœŸ
â”‚   â”œâ”€â”€ setup-db.ts               # DBåˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â””â”€â”€ seed-data.ts              # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
â”‚
â”œâ”€â”€ src/                          # Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ¬ä½“
â”‚   â”œâ”€â”€ app/                      # App Router
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ãƒãƒ¼ã‚¿ãƒ«ãƒšãƒ¼ã‚¸ï¼ˆãƒˆãƒƒãƒ—ï¼‰
â”‚   â”‚   â”œâ”€â”€ layout.tsx            # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ globals.css           # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ chat/                 # ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
â”‚   â”‚   â”‚   â””â”€â”€ [category]/      # å‹•çš„ãƒ«ãƒ¼ãƒˆï¼ˆbtob/btocï¼‰
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ api/                  # API Routes
â”‚   â”‚       â”œâ”€â”€ chat/
â”‚   â”‚       â”‚   â””â”€â”€ route.ts      # ãƒãƒ£ãƒƒãƒˆAPI
â”‚   â”‚       â”œâ”€â”€ history/
â”‚   â”‚       â”‚   â””â”€â”€ [sessionId]/
â”‚   â”‚       â”‚       â””â”€â”€ route.ts  # å±¥æ­´å–å¾—API
â”‚   â”‚       â””â”€â”€ sync/
â”‚   â”‚           â””â”€â”€ route.ts      # ãƒ‡ãƒ¼ã‚¿åŒæœŸAPIï¼ˆç®¡ç†ç”¨ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ components/               # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ui/                   # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ chat/                 # ãƒãƒ£ãƒƒãƒˆé–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageItem.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageInput.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TypingIndicator.tsx
â”‚   â”‚   â”‚   â””â”€â”€ RecommendationCard.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ portal/               # ãƒãƒ¼ã‚¿ãƒ«é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚       â”œâ”€â”€ CategoryCard.tsx
â”‚   â”‚       â””â”€â”€ Header.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                      # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ supabase.ts           # Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ gemini.ts             # Gemini APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ rag.ts                # RAGãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ sheets.ts             # Google Sheets API
â”‚   â”‚   â”œâ”€â”€ vector-search.ts      # ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ utils.ts              # æ±ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                    # TypeScriptå‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ chat.ts               # ãƒãƒ£ãƒƒãƒˆé–¢é€£å‹
â”‚   â”‚   â”œâ”€â”€ knowledge.ts          # ãƒŠãƒ¬ãƒƒã‚¸ãƒ‡ãƒ¼ã‚¿å‹
â”‚   â”‚   â””â”€â”€ api.ts                # APIå‹å®šç¾©
â”‚   â”‚
â”‚   â””â”€â”€ config/                   # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â”œâ”€â”€ prompts.ts            # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚       â””â”€â”€ constants.ts          # å®šæ•°å®šç¾©
â”‚
â”œâ”€â”€ public/                       # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ logo.svg
â”‚   â”‚   â””â”€â”€ icons/
â”‚   â””â”€â”€ fonts/
â”‚
â”œâ”€â”€ supabase/                     # Supabaseé–¢é€£
â”‚   â”œâ”€â”€ migrations/               # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â””â”€â”€ 001_initial_schema.sql
â”‚   â””â”€â”€ seed.sql                  # åˆæœŸãƒ‡ãƒ¼ã‚¿
â”‚
â”œâ”€â”€ tests/                        # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ unit/                     # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ rag.test.ts
â”‚   â”‚   â””â”€â”€ vector-search.test.ts
â”‚   â”œâ”€â”€ integration/              # çµåˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â””â”€â”€ api.test.ts
â”‚   â””â”€â”€ e2e/                      # E2Eãƒ†ã‚¹ãƒˆ
â”‚       â””â”€â”€ chat-flow.spec.ts
â”‚
â”œâ”€â”€ .env.local                    # ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
â”œâ”€â”€ .env.example                  # ç’°å¢ƒå¤‰æ•°ã‚µãƒ³ãƒ—ãƒ«
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ README.md                     # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
â””â”€â”€ vercel.json                   # Vercelãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªèª¬æ˜

### `/docs` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­è¨ˆæ›¸ãƒ»ä»•æ§˜æ›¸ã‚’é›†ç´„ã€‚é–‹ç™ºè€…ã‚„ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ãŒå‚ç…§ã€‚

### `/scripts` - ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
ãƒ‡ãƒ¼ã‚¿åŒæœŸã€DBåˆæœŸåŒ–ãªã©ã®é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‚é–‹ç™ºæ™‚ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ™‚ã«å®Ÿè¡Œã€‚

### `/src` - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ¬ä½“
Next.jsã‚¢ãƒ—ãƒªã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€‚ä»¥ä¸‹ã®æ§‹é€ ï¼š

#### `/src/app` - App Router
Next.js 14ã®App Routerãƒ™ãƒ¼ã‚¹ã€‚ãƒšãƒ¼ã‚¸ã¨APIã‚’é…ç½®ã€‚

#### `/src/components` - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `ui/`: shadcn/uiã®å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `chat/`: ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½å°‚ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `portal/`: ãƒãƒ¼ã‚¿ãƒ«ç”»é¢å°‚ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### `/src/lib` - ãƒ­ã‚¸ãƒƒã‚¯å±¤
ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€å¤–éƒ¨APIé€£æºã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã€‚

#### `/src/types` - å‹å®šç¾©
TypeScriptã®å‹å®šç¾©ã‚’é›†ç´„ã€‚å‹å®‰å…¨æ€§ã‚’ç¢ºä¿ã€‚

#### `/src/config` - è¨­å®š
ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€å®šæ•°ãªã©è¨­å®šå€¤ã‚’ç®¡ç†ã€‚

### `/supabase` - Supabaseé–¢é€£
DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã€åˆæœŸãƒ‡ãƒ¼ã‚¿ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€‚

### `/tests` - ãƒ†ã‚¹ãƒˆ
å˜ä½“ã€çµåˆã€E2Eãƒ†ã‚¹ãƒˆã‚’åˆ†é¡ã€‚

---

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¾Œã®ã‚¤ãƒ¡ãƒ¼ã‚¸

```
chatbot/
â”œâ”€â”€ docs/                    # âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆæ—¢å­˜ã‚’ç§»å‹•ï¼‰
â”œâ”€â”€ scripts/                 # ğŸ†• é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ src/                     # ğŸ†• Next.jsã‚¢ãƒ—ãƒª
â”œâ”€â”€ supabase/                # ğŸ†• DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ tests/                   # ğŸ†• ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ public/                  # ğŸ†• é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ package.json             # ğŸ†• ä¾å­˜é–¢ä¿‚
â”œâ”€â”€ .env.example             # ğŸ†• ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â””â”€â”€ README.md                # ğŸ†• ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
```

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¡ˆ

1. **æ—¢å­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ `docs/` ã«ç§»å‹•**
2. **Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–**
3. **åŸºæœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ**

å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ
